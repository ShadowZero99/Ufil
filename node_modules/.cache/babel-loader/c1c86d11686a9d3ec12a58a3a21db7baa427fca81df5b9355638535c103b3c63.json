{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.logger = void 0;\nconst winston = require(\"winston\");\nfunction expandErrors(logger) {\n  const oldLogFunc = logger.log.bind(logger);\n  const newLogFunc = function (levelOrEntry, message) {\n    for (var _len = arguments.length, meta = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      meta[_key - 2] = arguments[_key];\n    }\n    if (message && message instanceof Error) {\n      message = message.stack || message.message;\n      return oldLogFunc(levelOrEntry, message, ...meta);\n    }\n    return oldLogFunc(levelOrEntry, message, ...meta);\n  };\n  logger.log = newLogFunc;\n  return logger;\n}\nfunction annotateDebugLines(logger) {\n  const debug = logger.debug.bind(logger);\n  const newDebug = function (message) {\n    if (typeof message === \"string\") {\n      message = `[${new Date().toISOString()}] ${message || \"\"}`;\n    }\n    for (var _len2 = arguments.length, meta = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      meta[_key2 - 1] = arguments[_key2];\n    }\n    return debug(message, ...meta);\n  };\n  logger.debug = newDebug;\n  return logger;\n}\nconst rawLogger = winston.createLogger();\nrawLogger.add(new winston.transports.Console({\n  silent: true\n}));\nrawLogger.exitOnError = false;\nexports.logger = annotateDebugLines(expandErrors(rawLogger));","map":{"version":3,"names":["Object","defineProperty","exports","value","logger","winston","require","expandErrors","oldLogFunc","log","bind","newLogFunc","levelOrEntry","message","meta","Error","stack","annotateDebugLines","debug","newDebug","Date","toISOString","rawLogger","createLogger","add","transports","Console","silent","exitOnError"],"sources":["C:/Users/PC/node_modules/firebase-tools/lib/logger.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logger = void 0;\nconst winston = require(\"winston\");\nfunction expandErrors(logger) {\n    const oldLogFunc = logger.log.bind(logger);\n    const newLogFunc = function (levelOrEntry, message, ...meta) {\n        if (message && message instanceof Error) {\n            message = message.stack || message.message;\n            return oldLogFunc(levelOrEntry, message, ...meta);\n        }\n        return oldLogFunc(levelOrEntry, message, ...meta);\n    };\n    logger.log = newLogFunc;\n    return logger;\n}\nfunction annotateDebugLines(logger) {\n    const debug = logger.debug.bind(logger);\n    const newDebug = function (message, ...meta) {\n        if (typeof message === \"string\") {\n            message = `[${new Date().toISOString()}] ${message || \"\"}`;\n        }\n        return debug(message, ...meta);\n    };\n    logger.debug = newDebug;\n    return logger;\n}\nconst rawLogger = winston.createLogger();\nrawLogger.add(new winston.transports.Console({ silent: true }));\nrawLogger.exitOnError = false;\nexports.logger = annotateDebugLines(expandErrors(rawLogger));\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,MAAM,GAAG,KAAK,CAAC;AACvB,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,SAASC,YAAY,CAACH,MAAM,EAAE;EAC1B,MAAMI,UAAU,GAAGJ,MAAM,CAACK,GAAG,CAACC,IAAI,CAACN,MAAM,CAAC;EAC1C,MAAMO,UAAU,GAAG,UAAUC,YAAY,EAAEC,OAAO,EAAW;IAAA,kCAANC,IAAI;MAAJA,IAAI;IAAA;IACvD,IAAID,OAAO,IAAIA,OAAO,YAAYE,KAAK,EAAE;MACrCF,OAAO,GAAGA,OAAO,CAACG,KAAK,IAAIH,OAAO,CAACA,OAAO;MAC1C,OAAOL,UAAU,CAACI,YAAY,EAAEC,OAAO,EAAE,GAAGC,IAAI,CAAC;IACrD;IACA,OAAON,UAAU,CAACI,YAAY,EAAEC,OAAO,EAAE,GAAGC,IAAI,CAAC;EACrD,CAAC;EACDV,MAAM,CAACK,GAAG,GAAGE,UAAU;EACvB,OAAOP,MAAM;AACjB;AACA,SAASa,kBAAkB,CAACb,MAAM,EAAE;EAChC,MAAMc,KAAK,GAAGd,MAAM,CAACc,KAAK,CAACR,IAAI,CAACN,MAAM,CAAC;EACvC,MAAMe,QAAQ,GAAG,UAAUN,OAAO,EAAW;IACzC,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC7BA,OAAO,GAAI,IAAG,IAAIO,IAAI,EAAE,CAACC,WAAW,EAAG,KAAIR,OAAO,IAAI,EAAG,EAAC;IAC9D;IAAC,mCAHkCC,IAAI;MAAJA,IAAI;IAAA;IAIvC,OAAOI,KAAK,CAACL,OAAO,EAAE,GAAGC,IAAI,CAAC;EAClC,CAAC;EACDV,MAAM,CAACc,KAAK,GAAGC,QAAQ;EACvB,OAAOf,MAAM;AACjB;AACA,MAAMkB,SAAS,GAAGjB,OAAO,CAACkB,YAAY,EAAE;AACxCD,SAAS,CAACE,GAAG,CAAC,IAAInB,OAAO,CAACoB,UAAU,CAACC,OAAO,CAAC;EAAEC,MAAM,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/DL,SAAS,CAACM,WAAW,GAAG,KAAK;AAC7B1B,OAAO,CAACE,MAAM,GAAGa,kBAAkB,CAACV,YAAY,CAACe,SAAS,CAAC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}