{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.randomInt = exports.debounce = exports.last = exports.cloneDeep = exports.groupBy = exports.assertIsStringOrUndefined = exports.assertIsNumber = exports.assertIsString = exports.assertDefined = exports.thirtyDaysFromNow = exports.isRunningInWSL = exports.isCloudEnvironment = exports.datetimeString = exports.createDestroyer = exports.promiseWithSpinner = exports.setupLoggers = exports.tryParse = exports.tryStringify = exports.promiseProps = exports.withTimeout = exports.promiseWhile = exports.promiseAllSettled = exports.getFunctionsEventProvider = exports.endpoint = exports.makeActiveProject = exports.streamToString = exports.stringToStream = exports.explainStdin = exports.allSettled = exports.reject = exports.logLabeledError = exports.logLabeledWarning = exports.logWarning = exports.logLabeledBullet = exports.logBullet = exports.logLabeledSuccess = exports.logSuccess = exports.addSubdomain = exports.addDatabaseNamespace = exports.getDatabaseViewDataUrl = exports.getDatabaseUrl = exports.envOverride = exports.getInheritedOption = exports.consoleUrl = exports.envOverrides = void 0;\nconst _ = require(\"lodash\");\nconst url = require(\"url\");\nconst clc = require(\"colorette\");\nconst ora = require(\"ora\");\nconst process = require(\"process\");\nconst stream_1 = require(\"stream\");\nconst winston = require(\"winston\");\nconst triple_beam_1 = require(\"triple-beam\");\nconst assert_1 = require(\"assert\");\nconst stripAnsi = require(\"strip-ansi\");\nconst configstore_1 = require(\"./configstore\");\nconst error_1 = require(\"./error\");\nconst logger_1 = require(\"./logger\");\nconst IS_WINDOWS = process.platform === \"win32\";\nconst SUCCESS_CHAR = IS_WINDOWS ? \"+\" : \"✔\";\nconst WARNING_CHAR = IS_WINDOWS ? \"!\" : \"⚠\";\nconst ERROR_CHAR = IS_WINDOWS ? \"!!\" : \"⬢\";\nconst THIRTY_DAYS_IN_MILLISECONDS = 30 * 24 * 60 * 60 * 1000;\nexports.envOverrides = [];\nfunction consoleUrl(project, path) {\n  const api = require(\"./api\");\n  return `${api.consoleOrigin}/project/${project}${path}`;\n}\nexports.consoleUrl = consoleUrl;\nfunction getInheritedOption(options, key) {\n  let target = options;\n  while (target) {\n    if (target[key] !== undefined) {\n      return target[key];\n    }\n    target = target.parent;\n  }\n}\nexports.getInheritedOption = getInheritedOption;\nfunction envOverride(envname, value, coerce) {\n  const currentEnvValue = process.env[envname];\n  if (currentEnvValue && currentEnvValue.length) {\n    exports.envOverrides.push(envname);\n    if (coerce) {\n      try {\n        return coerce(currentEnvValue, value);\n      } catch (e) {\n        return value;\n      }\n    }\n    return currentEnvValue;\n  }\n  return value;\n}\nexports.envOverride = envOverride;\nfunction getDatabaseUrl(origin, namespace, pathname) {\n  const withPath = url.resolve(origin, pathname);\n  return addDatabaseNamespace(withPath, namespace);\n}\nexports.getDatabaseUrl = getDatabaseUrl;\nfunction getDatabaseViewDataUrl(origin, project, namespace, pathname) {\n  const urlObj = new url.URL(origin);\n  if (urlObj.hostname.includes(\"firebaseio\") || urlObj.hostname.includes(\"firebasedatabase\")) {\n    return consoleUrl(project, `/database/${namespace}/data${pathname}`);\n  }\n  return getDatabaseUrl(origin, namespace, pathname + \".json\");\n}\nexports.getDatabaseViewDataUrl = getDatabaseViewDataUrl;\nfunction addDatabaseNamespace(origin, namespace) {\n  const urlObj = new url.URL(origin);\n  if (urlObj.hostname.includes(namespace)) {\n    return urlObj.href;\n  }\n  if (urlObj.hostname.includes(\"firebaseio\") || urlObj.hostname.includes(\"firebasedatabase\")) {\n    return addSubdomain(origin, namespace);\n  }\n  urlObj.searchParams.set(\"ns\", namespace);\n  return urlObj.href;\n}\nexports.addDatabaseNamespace = addDatabaseNamespace;\nfunction addSubdomain(origin, subdomain) {\n  return origin.replace(\"//\", `//${subdomain}.`);\n}\nexports.addSubdomain = addSubdomain;\nfunction logSuccess(message) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"info\";\n  let data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  logger_1.logger[type](clc.green(clc.bold(`${SUCCESS_CHAR} `)), message, data);\n}\nexports.logSuccess = logSuccess;\nfunction logLabeledSuccess(label, message) {\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  logger_1.logger[type](clc.green(clc.bold(`${SUCCESS_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledSuccess = logLabeledSuccess;\nfunction logBullet(message) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"info\";\n  let data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  logger_1.logger[type](clc.cyan(clc.bold(\"i \")), message, data);\n}\nexports.logBullet = logBullet;\nfunction logLabeledBullet(label, message) {\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  logger_1.logger[type](clc.cyan(clc.bold(`i  ${label}:`)), message, data);\n}\nexports.logLabeledBullet = logLabeledBullet;\nfunction logWarning(message) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"warn\";\n  let data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  logger_1.logger[type](clc.yellow(clc.bold(`${WARNING_CHAR} `)), message, data);\n}\nexports.logWarning = logWarning;\nfunction logLabeledWarning(label, message) {\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"warn\";\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  logger_1.logger[type](clc.yellow(clc.bold(`${WARNING_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledWarning = logLabeledWarning;\nfunction logLabeledError(label, message) {\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"error\";\n  let data = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  logger_1.logger[type](clc.red(clc.bold(`${ERROR_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledError = logLabeledError;\nfunction reject(message, options) {\n  return Promise.reject(new error_1.FirebaseError(message, options));\n}\nexports.reject = reject;\nfunction allSettled(promises) {\n  if (!promises.length) {\n    return Promise.resolve([]);\n  }\n  return new Promise(resolve => {\n    let remaining = promises.length;\n    const results = [];\n    for (let i = 0; i < promises.length; i++) {\n      void Promise.resolve(promises[i]).then(result => {\n        results[i] = {\n          status: \"fulfilled\",\n          value: result\n        };\n      }, err => {\n        results[i] = {\n          status: \"rejected\",\n          reason: err\n        };\n      }).then(() => {\n        if (! --remaining) {\n          resolve(results);\n        }\n      });\n    }\n  });\n}\nexports.allSettled = allSettled;\nfunction explainStdin() {\n  if (IS_WINDOWS) {\n    throw new error_1.FirebaseError(\"STDIN input is not available on Windows.\", {\n      exit: 1\n    });\n  }\n  if (process.stdin.isTTY) {\n    logger_1.logger.info(clc.bold(\"Note:\"), \"Reading STDIN. Type JSON data and then press Ctrl-D\");\n  }\n}\nexports.explainStdin = explainStdin;\nfunction stringToStream(text) {\n  if (!text) {\n    return undefined;\n  }\n  const s = new stream_1.Readable();\n  s.push(text);\n  s.push(null);\n  return s;\n}\nexports.stringToStream = stringToStream;\nfunction streamToString(s) {\n  return new Promise((resolve, reject) => {\n    let b = \"\";\n    s.on(\"error\", reject);\n    s.on(\"data\", d => b += `${d}`);\n    s.once(\"end\", () => resolve(b));\n  });\n}\nexports.streamToString = streamToString;\nfunction makeActiveProject(projectDir, newActive) {\n  const activeProjects = configstore_1.configstore.get(\"activeProjects\") || {};\n  if (newActive) {\n    activeProjects[projectDir] = newActive;\n  } else {\n    _.unset(activeProjects, projectDir);\n  }\n  configstore_1.configstore.set(\"activeProjects\", activeProjects);\n}\nexports.makeActiveProject = makeActiveProject;\nfunction endpoint(parts) {\n  return `/${parts.join(\"/\")}`;\n}\nexports.endpoint = endpoint;\nfunction getFunctionsEventProvider(eventType) {\n  const parts = eventType.split(\"/\");\n  if (parts.length > 1) {\n    const provider = last(parts[1].split(\".\"));\n    return _.capitalize(provider);\n  }\n  if (/google.pubsub/.exec(eventType)) {\n    return \"PubSub\";\n  } else if (/google.storage/.exec(eventType)) {\n    return \"Storage\";\n  } else if (/google.analytics/.exec(eventType)) {\n    return \"Analytics\";\n  } else if (/google.firebase.database/.exec(eventType)) {\n    return \"Database\";\n  } else if (/google.firebase.auth/.exec(eventType)) {\n    return \"Auth\";\n  } else if (/google.firebase.crashlytics/.exec(eventType)) {\n    return \"Crashlytics\";\n  } else if (/google.firestore/.exec(eventType)) {\n    return \"Firestore\";\n  }\n  return _.capitalize(eventType.split(\".\")[1]);\n}\nexports.getFunctionsEventProvider = getFunctionsEventProvider;\nfunction promiseAllSettled(promises) {\n  const wrappedPromises = promises.map(async p => {\n    try {\n      const val = await Promise.resolve(p);\n      return {\n        state: \"fulfilled\",\n        value: val\n      };\n    } catch (err) {\n      return {\n        state: \"rejected\",\n        reason: err\n      };\n    }\n  });\n  return Promise.all(wrappedPromises);\n}\nexports.promiseAllSettled = promiseAllSettled;\nasync function promiseWhile(action, check) {\n  let interval = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 2500;\n  return new Promise((resolve, promiseReject) => {\n    const run = async () => {\n      try {\n        const res = await action();\n        if (check(res)) {\n          return resolve(res);\n        }\n        setTimeout(run, interval);\n      } catch (err) {\n        return promiseReject(err);\n      }\n    };\n    run();\n  });\n}\nexports.promiseWhile = promiseWhile;\nfunction withTimeout(timeoutMs, promise) {\n  return new Promise((resolve, reject) => {\n    const timeout = setTimeout(() => reject(new Error(\"Timed out.\")), timeoutMs);\n    promise.then(value => {\n      clearTimeout(timeout);\n      resolve(value);\n    }, err => {\n      clearTimeout(timeout);\n      reject(err);\n    });\n  });\n}\nexports.withTimeout = withTimeout;\nasync function promiseProps(obj) {\n  const resultObj = {};\n  const promises = Object.keys(obj).map(async key => {\n    const r = await Promise.resolve(obj[key]);\n    resultObj[key] = r;\n  });\n  return Promise.all(promises).then(() => resultObj);\n}\nexports.promiseProps = promiseProps;\nfunction tryStringify(value) {\n  if (typeof value === \"string\") {\n    return value;\n  }\n  try {\n    return JSON.stringify(value);\n  } catch (_a) {\n    return value;\n  }\n}\nexports.tryStringify = tryStringify;\nfunction tryParse(value) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  try {\n    return JSON.parse(value);\n  } catch (_a) {\n    return value;\n  }\n}\nexports.tryParse = tryParse;\nfunction setupLoggers() {\n  if (process.env.DEBUG) {\n    logger_1.logger.add(new winston.transports.Console({\n      level: \"debug\",\n      format: winston.format.printf(info => {\n        const segments = [info.message, ...(info[triple_beam_1.SPLAT] || [])].map(tryStringify);\n        return `${stripAnsi(segments.join(\" \"))}`;\n      })\n    }));\n  } else if (process.env.IS_FIREBASE_CLI) {\n    logger_1.logger.add(new winston.transports.Console({\n      level: \"info\",\n      format: winston.format.printf(info => [info.message, ...(info[triple_beam_1.SPLAT] || [])].filter(chunk => typeof chunk === \"string\").join(\" \"))\n    }));\n  }\n}\nexports.setupLoggers = setupLoggers;\nasync function promiseWithSpinner(action, message) {\n  const spinner = ora(message).start();\n  let data;\n  try {\n    data = await action();\n    spinner.succeed();\n  } catch (err) {\n    spinner.fail();\n    throw err;\n  }\n  return data;\n}\nexports.promiseWithSpinner = promiseWithSpinner;\nfunction createDestroyer(server) {\n  const connections = new Set();\n  server.on(\"connection\", conn => {\n    connections.add(conn);\n    conn.once(\"close\", () => connections.delete(conn));\n  });\n  let destroyPromise = undefined;\n  return function destroyer() {\n    if (!destroyPromise) {\n      destroyPromise = new Promise((resolve, reject) => {\n        server.close(err => {\n          if (err) return reject(err);\n          resolve();\n        });\n        connections.forEach(socket => socket.destroy());\n      });\n    }\n    return destroyPromise;\n  };\n}\nexports.createDestroyer = createDestroyer;\nfunction datetimeString(d) {\n  const day = `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, \"0\")}-${d.getDate().toString().padStart(2, \"0\")}`;\n  const time = `${d.getHours().toString().padStart(2, \"0\")}:${d.getMinutes().toString().padStart(2, \"0\")}:${d.getSeconds().toString().padStart(2, \"0\")}`;\n  return `${day} ${time}`;\n}\nexports.datetimeString = datetimeString;\nfunction isCloudEnvironment() {\n  return !!process.env.CODESPACES;\n}\nexports.isCloudEnvironment = isCloudEnvironment;\nfunction isRunningInWSL() {\n  return !!process.env.WSL_DISTRO_NAME;\n}\nexports.isRunningInWSL = isRunningInWSL;\nfunction thirtyDaysFromNow() {\n  return new Date(Date.now() + THIRTY_DAYS_IN_MILLISECONDS);\n}\nexports.thirtyDaysFromNow = thirtyDaysFromNow;\nfunction assertDefined(val, message) {\n  if (val === undefined || val === null) {\n    throw new assert_1.AssertionError({\n      message: message || `expected value to be defined but got \"${val}\"`\n    });\n  }\n}\nexports.assertDefined = assertDefined;\nfunction assertIsString(val, message) {\n  if (typeof val !== \"string\") {\n    throw new assert_1.AssertionError({\n      message: message || `expected \"string\" but got \"${typeof val}\"`\n    });\n  }\n}\nexports.assertIsString = assertIsString;\nfunction assertIsNumber(val, message) {\n  if (typeof val !== \"number\") {\n    throw new assert_1.AssertionError({\n      message: message || `expected \"number\" but got \"${typeof val}\"`\n    });\n  }\n}\nexports.assertIsNumber = assertIsNumber;\nfunction assertIsStringOrUndefined(val, message) {\n  if (!(val === undefined || typeof val === \"string\")) {\n    throw new assert_1.AssertionError({\n      message: message || `expected \"string\" or \"undefined\" but got \"${typeof val}\"`\n    });\n  }\n}\nexports.assertIsStringOrUndefined = assertIsStringOrUndefined;\nfunction groupBy(arr, f) {\n  return arr.reduce((result, item) => {\n    const key = f(item);\n    if (result[key]) {\n      result[key].push(item);\n    } else {\n      result[key] = [item];\n    }\n    return result;\n  }, {});\n}\nexports.groupBy = groupBy;\nfunction cloneArray(arr) {\n  return arr.map(e => cloneDeep(e));\n}\nfunction cloneObject(obj) {\n  const clone = {};\n  for (const [k, v] of Object.entries(obj)) {\n    clone[k] = cloneDeep(v);\n  }\n  return clone;\n}\nfunction cloneDeep(obj) {\n  if (typeof obj !== \"object\" || !obj) {\n    return obj;\n  }\n  if (obj instanceof RegExp) {\n    return RegExp(obj, obj.flags);\n  }\n  if (obj instanceof Date) {\n    return new Date(obj);\n  }\n  if (Array.isArray(obj)) {\n    return cloneArray(obj);\n  }\n  if (obj instanceof Map) {\n    return new Map(obj.entries());\n  }\n  return cloneObject(obj);\n}\nexports.cloneDeep = cloneDeep;\nfunction last(arr) {\n  if (!Array.isArray(arr)) {\n    return undefined;\n  }\n  return arr[arr.length - 1];\n}\nexports.last = last;\nfunction debounce(fn, delay) {\n  let {\n    leading\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let timer;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (!timer && leading) {\n      fn(...args);\n    }\n    clearTimeout(timer);\n    timer = setTimeout(() => fn(...args), delay);\n  };\n}\nexports.debounce = debounce;\nfunction randomInt(min, max) {\n  min = Math.floor(min);\n  max = Math.ceil(max) + 1;\n  return Math.floor(Math.random() * (max - min) + min);\n}\nexports.randomInt = randomInt;","map":{"version":3,"names":["Object","defineProperty","exports","value","randomInt","debounce","last","cloneDeep","groupBy","assertIsStringOrUndefined","assertIsNumber","assertIsString","assertDefined","thirtyDaysFromNow","isRunningInWSL","isCloudEnvironment","datetimeString","createDestroyer","promiseWithSpinner","setupLoggers","tryParse","tryStringify","promiseProps","withTimeout","promiseWhile","promiseAllSettled","getFunctionsEventProvider","endpoint","makeActiveProject","streamToString","stringToStream","explainStdin","allSettled","reject","logLabeledError","logLabeledWarning","logWarning","logLabeledBullet","logBullet","logLabeledSuccess","logSuccess","addSubdomain","addDatabaseNamespace","getDatabaseViewDataUrl","getDatabaseUrl","envOverride","getInheritedOption","consoleUrl","envOverrides","_","require","url","clc","ora","process","stream_1","winston","triple_beam_1","assert_1","stripAnsi","configstore_1","error_1","logger_1","IS_WINDOWS","platform","SUCCESS_CHAR","WARNING_CHAR","ERROR_CHAR","THIRTY_DAYS_IN_MILLISECONDS","project","path","api","consoleOrigin","options","key","target","undefined","parent","envname","coerce","currentEnvValue","env","length","push","e","origin","namespace","pathname","withPath","resolve","urlObj","URL","hostname","includes","href","searchParams","set","subdomain","replace","message","type","data","logger","green","bold","label","cyan","yellow","red","Promise","FirebaseError","promises","remaining","results","i","then","result","status","err","reason","exit","stdin","isTTY","info","text","s","Readable","b","on","d","once","projectDir","newActive","activeProjects","configstore","get","unset","parts","join","eventType","split","provider","capitalize","exec","wrappedPromises","map","p","val","state","all","action","check","interval","promiseReject","run","res","setTimeout","timeoutMs","promise","timeout","Error","clearTimeout","obj","resultObj","keys","r","JSON","stringify","_a","parse","DEBUG","add","transports","Console","level","format","printf","segments","SPLAT","IS_FIREBASE_CLI","filter","chunk","spinner","start","succeed","fail","server","connections","Set","conn","delete","destroyPromise","destroyer","close","forEach","socket","destroy","day","getFullYear","getMonth","toString","padStart","getDate","time","getHours","getMinutes","getSeconds","CODESPACES","WSL_DISTRO_NAME","Date","now","AssertionError","arr","f","reduce","item","cloneArray","cloneObject","clone","k","v","entries","RegExp","flags","Array","isArray","Map","fn","delay","leading","timer","args","min","max","Math","floor","ceil","random"],"sources":["C:/Users/PC/node_modules/firebase-tools/lib/utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomInt = exports.debounce = exports.last = exports.cloneDeep = exports.groupBy = exports.assertIsStringOrUndefined = exports.assertIsNumber = exports.assertIsString = exports.assertDefined = exports.thirtyDaysFromNow = exports.isRunningInWSL = exports.isCloudEnvironment = exports.datetimeString = exports.createDestroyer = exports.promiseWithSpinner = exports.setupLoggers = exports.tryParse = exports.tryStringify = exports.promiseProps = exports.withTimeout = exports.promiseWhile = exports.promiseAllSettled = exports.getFunctionsEventProvider = exports.endpoint = exports.makeActiveProject = exports.streamToString = exports.stringToStream = exports.explainStdin = exports.allSettled = exports.reject = exports.logLabeledError = exports.logLabeledWarning = exports.logWarning = exports.logLabeledBullet = exports.logBullet = exports.logLabeledSuccess = exports.logSuccess = exports.addSubdomain = exports.addDatabaseNamespace = exports.getDatabaseViewDataUrl = exports.getDatabaseUrl = exports.envOverride = exports.getInheritedOption = exports.consoleUrl = exports.envOverrides = void 0;\nconst _ = require(\"lodash\");\nconst url = require(\"url\");\nconst clc = require(\"colorette\");\nconst ora = require(\"ora\");\nconst process = require(\"process\");\nconst stream_1 = require(\"stream\");\nconst winston = require(\"winston\");\nconst triple_beam_1 = require(\"triple-beam\");\nconst assert_1 = require(\"assert\");\nconst stripAnsi = require(\"strip-ansi\");\nconst configstore_1 = require(\"./configstore\");\nconst error_1 = require(\"./error\");\nconst logger_1 = require(\"./logger\");\nconst IS_WINDOWS = process.platform === \"win32\";\nconst SUCCESS_CHAR = IS_WINDOWS ? \"+\" : \"✔\";\nconst WARNING_CHAR = IS_WINDOWS ? \"!\" : \"⚠\";\nconst ERROR_CHAR = IS_WINDOWS ? \"!!\" : \"⬢\";\nconst THIRTY_DAYS_IN_MILLISECONDS = 30 * 24 * 60 * 60 * 1000;\nexports.envOverrides = [];\nfunction consoleUrl(project, path) {\n    const api = require(\"./api\");\n    return `${api.consoleOrigin}/project/${project}${path}`;\n}\nexports.consoleUrl = consoleUrl;\nfunction getInheritedOption(options, key) {\n    let target = options;\n    while (target) {\n        if (target[key] !== undefined) {\n            return target[key];\n        }\n        target = target.parent;\n    }\n}\nexports.getInheritedOption = getInheritedOption;\nfunction envOverride(envname, value, coerce) {\n    const currentEnvValue = process.env[envname];\n    if (currentEnvValue && currentEnvValue.length) {\n        exports.envOverrides.push(envname);\n        if (coerce) {\n            try {\n                return coerce(currentEnvValue, value);\n            }\n            catch (e) {\n                return value;\n            }\n        }\n        return currentEnvValue;\n    }\n    return value;\n}\nexports.envOverride = envOverride;\nfunction getDatabaseUrl(origin, namespace, pathname) {\n    const withPath = url.resolve(origin, pathname);\n    return addDatabaseNamespace(withPath, namespace);\n}\nexports.getDatabaseUrl = getDatabaseUrl;\nfunction getDatabaseViewDataUrl(origin, project, namespace, pathname) {\n    const urlObj = new url.URL(origin);\n    if (urlObj.hostname.includes(\"firebaseio\") || urlObj.hostname.includes(\"firebasedatabase\")) {\n        return consoleUrl(project, `/database/${namespace}/data${pathname}`);\n    }\n    return getDatabaseUrl(origin, namespace, pathname + \".json\");\n}\nexports.getDatabaseViewDataUrl = getDatabaseViewDataUrl;\nfunction addDatabaseNamespace(origin, namespace) {\n    const urlObj = new url.URL(origin);\n    if (urlObj.hostname.includes(namespace)) {\n        return urlObj.href;\n    }\n    if (urlObj.hostname.includes(\"firebaseio\") || urlObj.hostname.includes(\"firebasedatabase\")) {\n        return addSubdomain(origin, namespace);\n    }\n    urlObj.searchParams.set(\"ns\", namespace);\n    return urlObj.href;\n}\nexports.addDatabaseNamespace = addDatabaseNamespace;\nfunction addSubdomain(origin, subdomain) {\n    return origin.replace(\"//\", `//${subdomain}.`);\n}\nexports.addSubdomain = addSubdomain;\nfunction logSuccess(message, type = \"info\", data = undefined) {\n    logger_1.logger[type](clc.green(clc.bold(`${SUCCESS_CHAR} `)), message, data);\n}\nexports.logSuccess = logSuccess;\nfunction logLabeledSuccess(label, message, type = \"info\", data = undefined) {\n    logger_1.logger[type](clc.green(clc.bold(`${SUCCESS_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledSuccess = logLabeledSuccess;\nfunction logBullet(message, type = \"info\", data = undefined) {\n    logger_1.logger[type](clc.cyan(clc.bold(\"i \")), message, data);\n}\nexports.logBullet = logBullet;\nfunction logLabeledBullet(label, message, type = \"info\", data = undefined) {\n    logger_1.logger[type](clc.cyan(clc.bold(`i  ${label}:`)), message, data);\n}\nexports.logLabeledBullet = logLabeledBullet;\nfunction logWarning(message, type = \"warn\", data = undefined) {\n    logger_1.logger[type](clc.yellow(clc.bold(`${WARNING_CHAR} `)), message, data);\n}\nexports.logWarning = logWarning;\nfunction logLabeledWarning(label, message, type = \"warn\", data = undefined) {\n    logger_1.logger[type](clc.yellow(clc.bold(`${WARNING_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledWarning = logLabeledWarning;\nfunction logLabeledError(label, message, type = \"error\", data = undefined) {\n    logger_1.logger[type](clc.red(clc.bold(`${ERROR_CHAR}  ${label}:`)), message, data);\n}\nexports.logLabeledError = logLabeledError;\nfunction reject(message, options) {\n    return Promise.reject(new error_1.FirebaseError(message, options));\n}\nexports.reject = reject;\nfunction allSettled(promises) {\n    if (!promises.length) {\n        return Promise.resolve([]);\n    }\n    return new Promise((resolve) => {\n        let remaining = promises.length;\n        const results = [];\n        for (let i = 0; i < promises.length; i++) {\n            void Promise.resolve(promises[i])\n                .then((result) => {\n                results[i] = {\n                    status: \"fulfilled\",\n                    value: result,\n                };\n            }, (err) => {\n                results[i] = {\n                    status: \"rejected\",\n                    reason: err,\n                };\n            })\n                .then(() => {\n                if (!--remaining) {\n                    resolve(results);\n                }\n            });\n        }\n    });\n}\nexports.allSettled = allSettled;\nfunction explainStdin() {\n    if (IS_WINDOWS) {\n        throw new error_1.FirebaseError(\"STDIN input is not available on Windows.\", {\n            exit: 1,\n        });\n    }\n    if (process.stdin.isTTY) {\n        logger_1.logger.info(clc.bold(\"Note:\"), \"Reading STDIN. Type JSON data and then press Ctrl-D\");\n    }\n}\nexports.explainStdin = explainStdin;\nfunction stringToStream(text) {\n    if (!text) {\n        return undefined;\n    }\n    const s = new stream_1.Readable();\n    s.push(text);\n    s.push(null);\n    return s;\n}\nexports.stringToStream = stringToStream;\nfunction streamToString(s) {\n    return new Promise((resolve, reject) => {\n        let b = \"\";\n        s.on(\"error\", reject);\n        s.on(\"data\", (d) => (b += `${d}`));\n        s.once(\"end\", () => resolve(b));\n    });\n}\nexports.streamToString = streamToString;\nfunction makeActiveProject(projectDir, newActive) {\n    const activeProjects = configstore_1.configstore.get(\"activeProjects\") || {};\n    if (newActive) {\n        activeProjects[projectDir] = newActive;\n    }\n    else {\n        _.unset(activeProjects, projectDir);\n    }\n    configstore_1.configstore.set(\"activeProjects\", activeProjects);\n}\nexports.makeActiveProject = makeActiveProject;\nfunction endpoint(parts) {\n    return `/${parts.join(\"/\")}`;\n}\nexports.endpoint = endpoint;\nfunction getFunctionsEventProvider(eventType) {\n    const parts = eventType.split(\"/\");\n    if (parts.length > 1) {\n        const provider = last(parts[1].split(\".\"));\n        return _.capitalize(provider);\n    }\n    if (/google.pubsub/.exec(eventType)) {\n        return \"PubSub\";\n    }\n    else if (/google.storage/.exec(eventType)) {\n        return \"Storage\";\n    }\n    else if (/google.analytics/.exec(eventType)) {\n        return \"Analytics\";\n    }\n    else if (/google.firebase.database/.exec(eventType)) {\n        return \"Database\";\n    }\n    else if (/google.firebase.auth/.exec(eventType)) {\n        return \"Auth\";\n    }\n    else if (/google.firebase.crashlytics/.exec(eventType)) {\n        return \"Crashlytics\";\n    }\n    else if (/google.firestore/.exec(eventType)) {\n        return \"Firestore\";\n    }\n    return _.capitalize(eventType.split(\".\")[1]);\n}\nexports.getFunctionsEventProvider = getFunctionsEventProvider;\nfunction promiseAllSettled(promises) {\n    const wrappedPromises = promises.map(async (p) => {\n        try {\n            const val = await Promise.resolve(p);\n            return { state: \"fulfilled\", value: val };\n        }\n        catch (err) {\n            return { state: \"rejected\", reason: err };\n        }\n    });\n    return Promise.all(wrappedPromises);\n}\nexports.promiseAllSettled = promiseAllSettled;\nasync function promiseWhile(action, check, interval = 2500) {\n    return new Promise((resolve, promiseReject) => {\n        const run = async () => {\n            try {\n                const res = await action();\n                if (check(res)) {\n                    return resolve(res);\n                }\n                setTimeout(run, interval);\n            }\n            catch (err) {\n                return promiseReject(err);\n            }\n        };\n        run();\n    });\n}\nexports.promiseWhile = promiseWhile;\nfunction withTimeout(timeoutMs, promise) {\n    return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => reject(new Error(\"Timed out.\")), timeoutMs);\n        promise.then((value) => {\n            clearTimeout(timeout);\n            resolve(value);\n        }, (err) => {\n            clearTimeout(timeout);\n            reject(err);\n        });\n    });\n}\nexports.withTimeout = withTimeout;\nasync function promiseProps(obj) {\n    const resultObj = {};\n    const promises = Object.keys(obj).map(async (key) => {\n        const r = await Promise.resolve(obj[key]);\n        resultObj[key] = r;\n    });\n    return Promise.all(promises).then(() => resultObj);\n}\nexports.promiseProps = promiseProps;\nfunction tryStringify(value) {\n    if (typeof value === \"string\") {\n        return value;\n    }\n    try {\n        return JSON.stringify(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexports.tryStringify = tryStringify;\nfunction tryParse(value) {\n    if (typeof value !== \"string\") {\n        return value;\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexports.tryParse = tryParse;\nfunction setupLoggers() {\n    if (process.env.DEBUG) {\n        logger_1.logger.add(new winston.transports.Console({\n            level: \"debug\",\n            format: winston.format.printf((info) => {\n                const segments = [info.message, ...(info[triple_beam_1.SPLAT] || [])].map(tryStringify);\n                return `${stripAnsi(segments.join(\" \"))}`;\n            }),\n        }));\n    }\n    else if (process.env.IS_FIREBASE_CLI) {\n        logger_1.logger.add(new winston.transports.Console({\n            level: \"info\",\n            format: winston.format.printf((info) => [info.message, ...(info[triple_beam_1.SPLAT] || [])]\n                .filter((chunk) => typeof chunk === \"string\")\n                .join(\" \")),\n        }));\n    }\n}\nexports.setupLoggers = setupLoggers;\nasync function promiseWithSpinner(action, message) {\n    const spinner = ora(message).start();\n    let data;\n    try {\n        data = await action();\n        spinner.succeed();\n    }\n    catch (err) {\n        spinner.fail();\n        throw err;\n    }\n    return data;\n}\nexports.promiseWithSpinner = promiseWithSpinner;\nfunction createDestroyer(server) {\n    const connections = new Set();\n    server.on(\"connection\", (conn) => {\n        connections.add(conn);\n        conn.once(\"close\", () => connections.delete(conn));\n    });\n    let destroyPromise = undefined;\n    return function destroyer() {\n        if (!destroyPromise) {\n            destroyPromise = new Promise((resolve, reject) => {\n                server.close((err) => {\n                    if (err)\n                        return reject(err);\n                    resolve();\n                });\n                connections.forEach((socket) => socket.destroy());\n            });\n        }\n        return destroyPromise;\n    };\n}\nexports.createDestroyer = createDestroyer;\nfunction datetimeString(d) {\n    const day = `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, \"0\")}-${d\n        .getDate()\n        .toString()\n        .padStart(2, \"0\")}`;\n    const time = `${d.getHours().toString().padStart(2, \"0\")}:${d\n        .getMinutes()\n        .toString()\n        .padStart(2, \"0\")}:${d.getSeconds().toString().padStart(2, \"0\")}`;\n    return `${day} ${time}`;\n}\nexports.datetimeString = datetimeString;\nfunction isCloudEnvironment() {\n    return !!process.env.CODESPACES;\n}\nexports.isCloudEnvironment = isCloudEnvironment;\nfunction isRunningInWSL() {\n    return !!process.env.WSL_DISTRO_NAME;\n}\nexports.isRunningInWSL = isRunningInWSL;\nfunction thirtyDaysFromNow() {\n    return new Date(Date.now() + THIRTY_DAYS_IN_MILLISECONDS);\n}\nexports.thirtyDaysFromNow = thirtyDaysFromNow;\nfunction assertDefined(val, message) {\n    if (val === undefined || val === null) {\n        throw new assert_1.AssertionError({\n            message: message || `expected value to be defined but got \"${val}\"`,\n        });\n    }\n}\nexports.assertDefined = assertDefined;\nfunction assertIsString(val, message) {\n    if (typeof val !== \"string\") {\n        throw new assert_1.AssertionError({\n            message: message || `expected \"string\" but got \"${typeof val}\"`,\n        });\n    }\n}\nexports.assertIsString = assertIsString;\nfunction assertIsNumber(val, message) {\n    if (typeof val !== \"number\") {\n        throw new assert_1.AssertionError({\n            message: message || `expected \"number\" but got \"${typeof val}\"`,\n        });\n    }\n}\nexports.assertIsNumber = assertIsNumber;\nfunction assertIsStringOrUndefined(val, message) {\n    if (!(val === undefined || typeof val === \"string\")) {\n        throw new assert_1.AssertionError({\n            message: message || `expected \"string\" or \"undefined\" but got \"${typeof val}\"`,\n        });\n    }\n}\nexports.assertIsStringOrUndefined = assertIsStringOrUndefined;\nfunction groupBy(arr, f) {\n    return arr.reduce((result, item) => {\n        const key = f(item);\n        if (result[key]) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n        return result;\n    }, {});\n}\nexports.groupBy = groupBy;\nfunction cloneArray(arr) {\n    return arr.map((e) => cloneDeep(e));\n}\nfunction cloneObject(obj) {\n    const clone = {};\n    for (const [k, v] of Object.entries(obj)) {\n        clone[k] = cloneDeep(v);\n    }\n    return clone;\n}\nfunction cloneDeep(obj) {\n    if (typeof obj !== \"object\" || !obj) {\n        return obj;\n    }\n    if (obj instanceof RegExp) {\n        return RegExp(obj, obj.flags);\n    }\n    if (obj instanceof Date) {\n        return new Date(obj);\n    }\n    if (Array.isArray(obj)) {\n        return cloneArray(obj);\n    }\n    if (obj instanceof Map) {\n        return new Map(obj.entries());\n    }\n    return cloneObject(obj);\n}\nexports.cloneDeep = cloneDeep;\nfunction last(arr) {\n    if (!Array.isArray(arr)) {\n        return undefined;\n    }\n    return arr[arr.length - 1];\n}\nexports.last = last;\nfunction debounce(fn, delay, { leading } = {}) {\n    let timer;\n    return (...args) => {\n        if (!timer && leading) {\n            fn(...args);\n        }\n        clearTimeout(timer);\n        timer = setTimeout(() => fn(...args), delay);\n    };\n}\nexports.debounce = debounce;\nfunction randomInt(min, max) {\n    min = Math.floor(min);\n    max = Math.ceil(max) + 1;\n    return Math.floor(Math.random() * (max - min) + min);\n}\nexports.randomInt = randomInt;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,SAAS,GAAGF,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAACI,IAAI,GAAGJ,OAAO,CAACK,SAAS,GAAGL,OAAO,CAACM,OAAO,GAAGN,OAAO,CAACO,yBAAyB,GAAGP,OAAO,CAACQ,cAAc,GAAGR,OAAO,CAACS,cAAc,GAAGT,OAAO,CAACU,aAAa,GAAGV,OAAO,CAACW,iBAAiB,GAAGX,OAAO,CAACY,cAAc,GAAGZ,OAAO,CAACa,kBAAkB,GAAGb,OAAO,CAACc,cAAc,GAAGd,OAAO,CAACe,eAAe,GAAGf,OAAO,CAACgB,kBAAkB,GAAGhB,OAAO,CAACiB,YAAY,GAAGjB,OAAO,CAACkB,QAAQ,GAAGlB,OAAO,CAACmB,YAAY,GAAGnB,OAAO,CAACoB,YAAY,GAAGpB,OAAO,CAACqB,WAAW,GAAGrB,OAAO,CAACsB,YAAY,GAAGtB,OAAO,CAACuB,iBAAiB,GAAGvB,OAAO,CAACwB,yBAAyB,GAAGxB,OAAO,CAACyB,QAAQ,GAAGzB,OAAO,CAAC0B,iBAAiB,GAAG1B,OAAO,CAAC2B,cAAc,GAAG3B,OAAO,CAAC4B,cAAc,GAAG5B,OAAO,CAAC6B,YAAY,GAAG7B,OAAO,CAAC8B,UAAU,GAAG9B,OAAO,CAAC+B,MAAM,GAAG/B,OAAO,CAACgC,eAAe,GAAGhC,OAAO,CAACiC,iBAAiB,GAAGjC,OAAO,CAACkC,UAAU,GAAGlC,OAAO,CAACmC,gBAAgB,GAAGnC,OAAO,CAACoC,SAAS,GAAGpC,OAAO,CAACqC,iBAAiB,GAAGrC,OAAO,CAACsC,UAAU,GAAGtC,OAAO,CAACuC,YAAY,GAAGvC,OAAO,CAACwC,oBAAoB,GAAGxC,OAAO,CAACyC,sBAAsB,GAAGzC,OAAO,CAAC0C,cAAc,GAAG1C,OAAO,CAAC2C,WAAW,GAAG3C,OAAO,CAAC4C,kBAAkB,GAAG5C,OAAO,CAAC6C,UAAU,GAAG7C,OAAO,CAAC8C,YAAY,GAAG,KAAK,CAAC;AAC/kC,MAAMC,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAC3B,MAAMC,GAAG,GAAGD,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAME,GAAG,GAAGF,OAAO,CAAC,WAAW,CAAC;AAChC,MAAMG,GAAG,GAAGH,OAAO,CAAC,KAAK,CAAC;AAC1B,MAAMI,OAAO,GAAGJ,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMK,QAAQ,GAAGL,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMM,OAAO,GAAGN,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMO,aAAa,GAAGP,OAAO,CAAC,aAAa,CAAC;AAC5C,MAAMQ,QAAQ,GAAGR,OAAO,CAAC,QAAQ,CAAC;AAClC,MAAMS,SAAS,GAAGT,OAAO,CAAC,YAAY,CAAC;AACvC,MAAMU,aAAa,GAAGV,OAAO,CAAC,eAAe,CAAC;AAC9C,MAAMW,OAAO,GAAGX,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMY,QAAQ,GAAGZ,OAAO,CAAC,UAAU,CAAC;AACpC,MAAMa,UAAU,GAAGT,OAAO,CAACU,QAAQ,KAAK,OAAO;AAC/C,MAAMC,YAAY,GAAGF,UAAU,GAAG,GAAG,GAAG,GAAG;AAC3C,MAAMG,YAAY,GAAGH,UAAU,GAAG,GAAG,GAAG,GAAG;AAC3C,MAAMI,UAAU,GAAGJ,UAAU,GAAG,IAAI,GAAG,GAAG;AAC1C,MAAMK,2BAA2B,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;AAC5DlE,OAAO,CAAC8C,YAAY,GAAG,EAAE;AACzB,SAASD,UAAU,CAACsB,OAAO,EAAEC,IAAI,EAAE;EAC/B,MAAMC,GAAG,GAAGrB,OAAO,CAAC,OAAO,CAAC;EAC5B,OAAQ,GAAEqB,GAAG,CAACC,aAAc,YAAWH,OAAQ,GAAEC,IAAK,EAAC;AAC3D;AACApE,OAAO,CAAC6C,UAAU,GAAGA,UAAU;AAC/B,SAASD,kBAAkB,CAAC2B,OAAO,EAAEC,GAAG,EAAE;EACtC,IAAIC,MAAM,GAAGF,OAAO;EACpB,OAAOE,MAAM,EAAE;IACX,IAAIA,MAAM,CAACD,GAAG,CAAC,KAAKE,SAAS,EAAE;MAC3B,OAAOD,MAAM,CAACD,GAAG,CAAC;IACtB;IACAC,MAAM,GAAGA,MAAM,CAACE,MAAM;EAC1B;AACJ;AACA3E,OAAO,CAAC4C,kBAAkB,GAAGA,kBAAkB;AAC/C,SAASD,WAAW,CAACiC,OAAO,EAAE3E,KAAK,EAAE4E,MAAM,EAAE;EACzC,MAAMC,eAAe,GAAG1B,OAAO,CAAC2B,GAAG,CAACH,OAAO,CAAC;EAC5C,IAAIE,eAAe,IAAIA,eAAe,CAACE,MAAM,EAAE;IAC3ChF,OAAO,CAAC8C,YAAY,CAACmC,IAAI,CAACL,OAAO,CAAC;IAClC,IAAIC,MAAM,EAAE;MACR,IAAI;QACA,OAAOA,MAAM,CAACC,eAAe,EAAE7E,KAAK,CAAC;MACzC,CAAC,CACD,OAAOiF,CAAC,EAAE;QACN,OAAOjF,KAAK;MAChB;IACJ;IACA,OAAO6E,eAAe;EAC1B;EACA,OAAO7E,KAAK;AAChB;AACAD,OAAO,CAAC2C,WAAW,GAAGA,WAAW;AACjC,SAASD,cAAc,CAACyC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,EAAE;EACjD,MAAMC,QAAQ,GAAGrC,GAAG,CAACsC,OAAO,CAACJ,MAAM,EAAEE,QAAQ,CAAC;EAC9C,OAAO7C,oBAAoB,CAAC8C,QAAQ,EAAEF,SAAS,CAAC;AACpD;AACApF,OAAO,CAAC0C,cAAc,GAAGA,cAAc;AACvC,SAASD,sBAAsB,CAAC0C,MAAM,EAAEhB,OAAO,EAAEiB,SAAS,EAAEC,QAAQ,EAAE;EAClE,MAAMG,MAAM,GAAG,IAAIvC,GAAG,CAACwC,GAAG,CAACN,MAAM,CAAC;EAClC,IAAIK,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,YAAY,CAAC,IAAIH,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IACxF,OAAO9C,UAAU,CAACsB,OAAO,EAAG,aAAYiB,SAAU,QAAOC,QAAS,EAAC,CAAC;EACxE;EACA,OAAO3C,cAAc,CAACyC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,GAAG,OAAO,CAAC;AAChE;AACArF,OAAO,CAACyC,sBAAsB,GAAGA,sBAAsB;AACvD,SAASD,oBAAoB,CAAC2C,MAAM,EAAEC,SAAS,EAAE;EAC7C,MAAMI,MAAM,GAAG,IAAIvC,GAAG,CAACwC,GAAG,CAACN,MAAM,CAAC;EAClC,IAAIK,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAACP,SAAS,CAAC,EAAE;IACrC,OAAOI,MAAM,CAACI,IAAI;EACtB;EACA,IAAIJ,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,YAAY,CAAC,IAAIH,MAAM,CAACE,QAAQ,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IACxF,OAAOpD,YAAY,CAAC4C,MAAM,EAAEC,SAAS,CAAC;EAC1C;EACAI,MAAM,CAACK,YAAY,CAACC,GAAG,CAAC,IAAI,EAAEV,SAAS,CAAC;EACxC,OAAOI,MAAM,CAACI,IAAI;AACtB;AACA5F,OAAO,CAACwC,oBAAoB,GAAGA,oBAAoB;AACnD,SAASD,YAAY,CAAC4C,MAAM,EAAEY,SAAS,EAAE;EACrC,OAAOZ,MAAM,CAACa,OAAO,CAAC,IAAI,EAAG,KAAID,SAAU,GAAE,CAAC;AAClD;AACA/F,OAAO,CAACuC,YAAY,GAAGA,YAAY;AACnC,SAASD,UAAU,CAAC2D,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACxDd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACmD,KAAK,CAACnD,GAAG,CAACoD,IAAI,CAAE,GAAEvC,YAAa,GAAE,CAAC,CAAC,EAAEkC,OAAO,EAAEE,IAAI,CAAC;AACjF;AACAnG,OAAO,CAACsC,UAAU,GAAGA,UAAU;AAC/B,SAASD,iBAAiB,CAACkE,KAAK,EAAEN,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACtEd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACmD,KAAK,CAACnD,GAAG,CAACoD,IAAI,CAAE,GAAEvC,YAAa,KAAIwC,KAAM,GAAE,CAAC,CAAC,EAAEN,OAAO,EAAEE,IAAI,CAAC;AAC3F;AACAnG,OAAO,CAACqC,iBAAiB,GAAGA,iBAAiB;AAC7C,SAASD,SAAS,CAAC6D,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACvDd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACsD,IAAI,CAACtD,GAAG,CAACoD,IAAI,CAAC,IAAI,CAAC,CAAC,EAAEL,OAAO,EAAEE,IAAI,CAAC;AAClE;AACAnG,OAAO,CAACoC,SAAS,GAAGA,SAAS;AAC7B,SAASD,gBAAgB,CAACoE,KAAK,EAAEN,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACrEd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACsD,IAAI,CAACtD,GAAG,CAACoD,IAAI,CAAE,MAAKC,KAAM,GAAE,CAAC,CAAC,EAAEN,OAAO,EAAEE,IAAI,CAAC;AAC5E;AACAnG,OAAO,CAACmC,gBAAgB,GAAGA,gBAAgB;AAC3C,SAASD,UAAU,CAAC+D,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACxDd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACuD,MAAM,CAACvD,GAAG,CAACoD,IAAI,CAAE,GAAEtC,YAAa,GAAE,CAAC,CAAC,EAAEiC,OAAO,EAAEE,IAAI,CAAC;AAClF;AACAnG,OAAO,CAACkC,UAAU,GAAGA,UAAU;AAC/B,SAASD,iBAAiB,CAACsE,KAAK,EAAEN,OAAO,EAAmC;EAAA,IAAjCC,IAAI,uEAAG,MAAM;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACtEd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACuD,MAAM,CAACvD,GAAG,CAACoD,IAAI,CAAE,GAAEtC,YAAa,KAAIuC,KAAM,GAAE,CAAC,CAAC,EAAEN,OAAO,EAAEE,IAAI,CAAC;AAC5F;AACAnG,OAAO,CAACiC,iBAAiB,GAAGA,iBAAiB;AAC7C,SAASD,eAAe,CAACuE,KAAK,EAAEN,OAAO,EAAoC;EAAA,IAAlCC,IAAI,uEAAG,OAAO;EAAA,IAAEC,IAAI,uEAAGzB,SAAS;EACrEd,QAAQ,CAACwC,MAAM,CAACF,IAAI,CAAC,CAAChD,GAAG,CAACwD,GAAG,CAACxD,GAAG,CAACoD,IAAI,CAAE,GAAErC,UAAW,KAAIsC,KAAM,GAAE,CAAC,CAAC,EAAEN,OAAO,EAAEE,IAAI,CAAC;AACvF;AACAnG,OAAO,CAACgC,eAAe,GAAGA,eAAe;AACzC,SAASD,MAAM,CAACkE,OAAO,EAAE1B,OAAO,EAAE;EAC9B,OAAOoC,OAAO,CAAC5E,MAAM,CAAC,IAAI4B,OAAO,CAACiD,aAAa,CAACX,OAAO,EAAE1B,OAAO,CAAC,CAAC;AACtE;AACAvE,OAAO,CAAC+B,MAAM,GAAGA,MAAM;AACvB,SAASD,UAAU,CAAC+E,QAAQ,EAAE;EAC1B,IAAI,CAACA,QAAQ,CAAC7B,MAAM,EAAE;IAClB,OAAO2B,OAAO,CAACpB,OAAO,CAAC,EAAE,CAAC;EAC9B;EACA,OAAO,IAAIoB,OAAO,CAAEpB,OAAO,IAAK;IAC5B,IAAIuB,SAAS,GAAGD,QAAQ,CAAC7B,MAAM;IAC/B,MAAM+B,OAAO,GAAG,EAAE;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAAC7B,MAAM,EAAEgC,CAAC,EAAE,EAAE;MACtC,KAAKL,OAAO,CAACpB,OAAO,CAACsB,QAAQ,CAACG,CAAC,CAAC,CAAC,CAC5BC,IAAI,CAAEC,MAAM,IAAK;QAClBH,OAAO,CAACC,CAAC,CAAC,GAAG;UACTG,MAAM,EAAE,WAAW;UACnBlH,KAAK,EAAEiH;QACX,CAAC;MACL,CAAC,EAAGE,GAAG,IAAK;QACRL,OAAO,CAACC,CAAC,CAAC,GAAG;UACTG,MAAM,EAAE,UAAU;UAClBE,MAAM,EAAED;QACZ,CAAC;MACL,CAAC,CAAC,CACGH,IAAI,CAAC,MAAM;QACZ,IAAI,CAAC,GAAEH,SAAS,EAAE;UACdvB,OAAO,CAACwB,OAAO,CAAC;QACpB;MACJ,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;AACN;AACA/G,OAAO,CAAC8B,UAAU,GAAGA,UAAU;AAC/B,SAASD,YAAY,GAAG;EACpB,IAAIgC,UAAU,EAAE;IACZ,MAAM,IAAIF,OAAO,CAACiD,aAAa,CAAC,0CAA0C,EAAE;MACxEU,IAAI,EAAE;IACV,CAAC,CAAC;EACN;EACA,IAAIlE,OAAO,CAACmE,KAAK,CAACC,KAAK,EAAE;IACrB5D,QAAQ,CAACwC,MAAM,CAACqB,IAAI,CAACvE,GAAG,CAACoD,IAAI,CAAC,OAAO,CAAC,EAAE,qDAAqD,CAAC;EAClG;AACJ;AACAtG,OAAO,CAAC6B,YAAY,GAAGA,YAAY;AACnC,SAASD,cAAc,CAAC8F,IAAI,EAAE;EAC1B,IAAI,CAACA,IAAI,EAAE;IACP,OAAOhD,SAAS;EACpB;EACA,MAAMiD,CAAC,GAAG,IAAItE,QAAQ,CAACuE,QAAQ,EAAE;EACjCD,CAAC,CAAC1C,IAAI,CAACyC,IAAI,CAAC;EACZC,CAAC,CAAC1C,IAAI,CAAC,IAAI,CAAC;EACZ,OAAO0C,CAAC;AACZ;AACA3H,OAAO,CAAC4B,cAAc,GAAGA,cAAc;AACvC,SAASD,cAAc,CAACgG,CAAC,EAAE;EACvB,OAAO,IAAIhB,OAAO,CAAC,CAACpB,OAAO,EAAExD,MAAM,KAAK;IACpC,IAAI8F,CAAC,GAAG,EAAE;IACVF,CAAC,CAACG,EAAE,CAAC,OAAO,EAAE/F,MAAM,CAAC;IACrB4F,CAAC,CAACG,EAAE,CAAC,MAAM,EAAGC,CAAC,IAAMF,CAAC,IAAK,GAAEE,CAAE,EAAE,CAAC;IAClCJ,CAAC,CAACK,IAAI,CAAC,KAAK,EAAE,MAAMzC,OAAO,CAACsC,CAAC,CAAC,CAAC;EACnC,CAAC,CAAC;AACN;AACA7H,OAAO,CAAC2B,cAAc,GAAGA,cAAc;AACvC,SAASD,iBAAiB,CAACuG,UAAU,EAAEC,SAAS,EAAE;EAC9C,MAAMC,cAAc,GAAGzE,aAAa,CAAC0E,WAAW,CAACC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;EAC5E,IAAIH,SAAS,EAAE;IACXC,cAAc,CAACF,UAAU,CAAC,GAAGC,SAAS;EAC1C,CAAC,MACI;IACDnF,CAAC,CAACuF,KAAK,CAACH,cAAc,EAAEF,UAAU,CAAC;EACvC;EACAvE,aAAa,CAAC0E,WAAW,CAACtC,GAAG,CAAC,gBAAgB,EAAEqC,cAAc,CAAC;AACnE;AACAnI,OAAO,CAAC0B,iBAAiB,GAAGA,iBAAiB;AAC7C,SAASD,QAAQ,CAAC8G,KAAK,EAAE;EACrB,OAAQ,IAAGA,KAAK,CAACC,IAAI,CAAC,GAAG,CAAE,EAAC;AAChC;AACAxI,OAAO,CAACyB,QAAQ,GAAGA,QAAQ;AAC3B,SAASD,yBAAyB,CAACiH,SAAS,EAAE;EAC1C,MAAMF,KAAK,GAAGE,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC;EAClC,IAAIH,KAAK,CAACvD,MAAM,GAAG,CAAC,EAAE;IAClB,MAAM2D,QAAQ,GAAGvI,IAAI,CAACmI,KAAK,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,OAAO3F,CAAC,CAAC6F,UAAU,CAACD,QAAQ,CAAC;EACjC;EACA,IAAI,eAAe,CAACE,IAAI,CAACJ,SAAS,CAAC,EAAE;IACjC,OAAO,QAAQ;EACnB,CAAC,MACI,IAAI,gBAAgB,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IACvC,OAAO,SAAS;EACpB,CAAC,MACI,IAAI,kBAAkB,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IACzC,OAAO,WAAW;EACtB,CAAC,MACI,IAAI,0BAA0B,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IACjD,OAAO,UAAU;EACrB,CAAC,MACI,IAAI,sBAAsB,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IAC7C,OAAO,MAAM;EACjB,CAAC,MACI,IAAI,6BAA6B,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IACpD,OAAO,aAAa;EACxB,CAAC,MACI,IAAI,kBAAkB,CAACI,IAAI,CAACJ,SAAS,CAAC,EAAE;IACzC,OAAO,WAAW;EACtB;EACA,OAAO1F,CAAC,CAAC6F,UAAU,CAACH,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD;AACA1I,OAAO,CAACwB,yBAAyB,GAAGA,yBAAyB;AAC7D,SAASD,iBAAiB,CAACsF,QAAQ,EAAE;EACjC,MAAMiC,eAAe,GAAGjC,QAAQ,CAACkC,GAAG,CAAC,MAAOC,CAAC,IAAK;IAC9C,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMtC,OAAO,CAACpB,OAAO,CAACyD,CAAC,CAAC;MACpC,OAAO;QAAEE,KAAK,EAAE,WAAW;QAAEjJ,KAAK,EAAEgJ;MAAI,CAAC;IAC7C,CAAC,CACD,OAAO7B,GAAG,EAAE;MACR,OAAO;QAAE8B,KAAK,EAAE,UAAU;QAAE7B,MAAM,EAAED;MAAI,CAAC;IAC7C;EACJ,CAAC,CAAC;EACF,OAAOT,OAAO,CAACwC,GAAG,CAACL,eAAe,CAAC;AACvC;AACA9I,OAAO,CAACuB,iBAAiB,GAAGA,iBAAiB;AAC7C,eAAeD,YAAY,CAAC8H,MAAM,EAAEC,KAAK,EAAmB;EAAA,IAAjBC,QAAQ,uEAAG,IAAI;EACtD,OAAO,IAAI3C,OAAO,CAAC,CAACpB,OAAO,EAAEgE,aAAa,KAAK;IAC3C,MAAMC,GAAG,GAAG,YAAY;MACpB,IAAI;QACA,MAAMC,GAAG,GAAG,MAAML,MAAM,EAAE;QAC1B,IAAIC,KAAK,CAACI,GAAG,CAAC,EAAE;UACZ,OAAOlE,OAAO,CAACkE,GAAG,CAAC;QACvB;QACAC,UAAU,CAACF,GAAG,EAAEF,QAAQ,CAAC;MAC7B,CAAC,CACD,OAAOlC,GAAG,EAAE;QACR,OAAOmC,aAAa,CAACnC,GAAG,CAAC;MAC7B;IACJ,CAAC;IACDoC,GAAG,EAAE;EACT,CAAC,CAAC;AACN;AACAxJ,OAAO,CAACsB,YAAY,GAAGA,YAAY;AACnC,SAASD,WAAW,CAACsI,SAAS,EAAEC,OAAO,EAAE;EACrC,OAAO,IAAIjD,OAAO,CAAC,CAACpB,OAAO,EAAExD,MAAM,KAAK;IACpC,MAAM8H,OAAO,GAAGH,UAAU,CAAC,MAAM3H,MAAM,CAAC,IAAI+H,KAAK,CAAC,YAAY,CAAC,CAAC,EAAEH,SAAS,CAAC;IAC5EC,OAAO,CAAC3C,IAAI,CAAEhH,KAAK,IAAK;MACpB8J,YAAY,CAACF,OAAO,CAAC;MACrBtE,OAAO,CAACtF,KAAK,CAAC;IAClB,CAAC,EAAGmH,GAAG,IAAK;MACR2C,YAAY,CAACF,OAAO,CAAC;MACrB9H,MAAM,CAACqF,GAAG,CAAC;IACf,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACApH,OAAO,CAACqB,WAAW,GAAGA,WAAW;AACjC,eAAeD,YAAY,CAAC4I,GAAG,EAAE;EAC7B,MAAMC,SAAS,GAAG,CAAC,CAAC;EACpB,MAAMpD,QAAQ,GAAG/G,MAAM,CAACoK,IAAI,CAACF,GAAG,CAAC,CAACjB,GAAG,CAAC,MAAOvE,GAAG,IAAK;IACjD,MAAM2F,CAAC,GAAG,MAAMxD,OAAO,CAACpB,OAAO,CAACyE,GAAG,CAACxF,GAAG,CAAC,CAAC;IACzCyF,SAAS,CAACzF,GAAG,CAAC,GAAG2F,CAAC;EACtB,CAAC,CAAC;EACF,OAAOxD,OAAO,CAACwC,GAAG,CAACtC,QAAQ,CAAC,CAACI,IAAI,CAAC,MAAMgD,SAAS,CAAC;AACtD;AACAjK,OAAO,CAACoB,YAAY,GAAGA,YAAY;AACnC,SAASD,YAAY,CAAClB,KAAK,EAAE;EACzB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAOA,KAAK;EAChB;EACA,IAAI;IACA,OAAOmK,IAAI,CAACC,SAAS,CAACpK,KAAK,CAAC;EAChC,CAAC,CACD,OAAOqK,EAAE,EAAE;IACP,OAAOrK,KAAK;EAChB;AACJ;AACAD,OAAO,CAACmB,YAAY,GAAGA,YAAY;AACnC,SAASD,QAAQ,CAACjB,KAAK,EAAE;EACrB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAOA,KAAK;EAChB;EACA,IAAI;IACA,OAAOmK,IAAI,CAACG,KAAK,CAACtK,KAAK,CAAC;EAC5B,CAAC,CACD,OAAOqK,EAAE,EAAE;IACP,OAAOrK,KAAK;EAChB;AACJ;AACAD,OAAO,CAACkB,QAAQ,GAAGA,QAAQ;AAC3B,SAASD,YAAY,GAAG;EACpB,IAAImC,OAAO,CAAC2B,GAAG,CAACyF,KAAK,EAAE;IACnB5G,QAAQ,CAACwC,MAAM,CAACqE,GAAG,CAAC,IAAInH,OAAO,CAACoH,UAAU,CAACC,OAAO,CAAC;MAC/CC,KAAK,EAAE,OAAO;MACdC,MAAM,EAAEvH,OAAO,CAACuH,MAAM,CAACC,MAAM,CAAErD,IAAI,IAAK;QACpC,MAAMsD,QAAQ,GAAG,CAACtD,IAAI,CAACxB,OAAO,EAAE,IAAIwB,IAAI,CAAClE,aAAa,CAACyH,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAACjC,GAAG,CAAC5H,YAAY,CAAC;QACvF,OAAQ,GAAEsC,SAAS,CAACsH,QAAQ,CAACvC,IAAI,CAAC,GAAG,CAAC,CAAE,EAAC;MAC7C,CAAC;IACL,CAAC,CAAC,CAAC;EACP,CAAC,MACI,IAAIpF,OAAO,CAAC2B,GAAG,CAACkG,eAAe,EAAE;IAClCrH,QAAQ,CAACwC,MAAM,CAACqE,GAAG,CAAC,IAAInH,OAAO,CAACoH,UAAU,CAACC,OAAO,CAAC;MAC/CC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAEvH,OAAO,CAACuH,MAAM,CAACC,MAAM,CAAErD,IAAI,IAAK,CAACA,IAAI,CAACxB,OAAO,EAAE,IAAIwB,IAAI,CAAClE,aAAa,CAACyH,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CACvFE,MAAM,CAAEC,KAAK,IAAK,OAAOA,KAAK,KAAK,QAAQ,CAAC,CAC5C3C,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC,CAAC,CAAC;EACP;AACJ;AACAxI,OAAO,CAACiB,YAAY,GAAGA,YAAY;AACnC,eAAeD,kBAAkB,CAACoI,MAAM,EAAEnD,OAAO,EAAE;EAC/C,MAAMmF,OAAO,GAAGjI,GAAG,CAAC8C,OAAO,CAAC,CAACoF,KAAK,EAAE;EACpC,IAAIlF,IAAI;EACR,IAAI;IACAA,IAAI,GAAG,MAAMiD,MAAM,EAAE;IACrBgC,OAAO,CAACE,OAAO,EAAE;EACrB,CAAC,CACD,OAAOlE,GAAG,EAAE;IACRgE,OAAO,CAACG,IAAI,EAAE;IACd,MAAMnE,GAAG;EACb;EACA,OAAOjB,IAAI;AACf;AACAnG,OAAO,CAACgB,kBAAkB,GAAGA,kBAAkB;AAC/C,SAASD,eAAe,CAACyK,MAAM,EAAE;EAC7B,MAAMC,WAAW,GAAG,IAAIC,GAAG,EAAE;EAC7BF,MAAM,CAAC1D,EAAE,CAAC,YAAY,EAAG6D,IAAI,IAAK;IAC9BF,WAAW,CAAChB,GAAG,CAACkB,IAAI,CAAC;IACrBA,IAAI,CAAC3D,IAAI,CAAC,OAAO,EAAE,MAAMyD,WAAW,CAACG,MAAM,CAACD,IAAI,CAAC,CAAC;EACtD,CAAC,CAAC;EACF,IAAIE,cAAc,GAAGnH,SAAS;EAC9B,OAAO,SAASoH,SAAS,GAAG;IACxB,IAAI,CAACD,cAAc,EAAE;MACjBA,cAAc,GAAG,IAAIlF,OAAO,CAAC,CAACpB,OAAO,EAAExD,MAAM,KAAK;QAC9CyJ,MAAM,CAACO,KAAK,CAAE3E,GAAG,IAAK;UAClB,IAAIA,GAAG,EACH,OAAOrF,MAAM,CAACqF,GAAG,CAAC;UACtB7B,OAAO,EAAE;QACb,CAAC,CAAC;QACFkG,WAAW,CAACO,OAAO,CAAEC,MAAM,IAAKA,MAAM,CAACC,OAAO,EAAE,CAAC;MACrD,CAAC,CAAC;IACN;IACA,OAAOL,cAAc;EACzB,CAAC;AACL;AACA7L,OAAO,CAACe,eAAe,GAAGA,eAAe;AACzC,SAASD,cAAc,CAACiH,CAAC,EAAE;EACvB,MAAMoE,GAAG,GAAI,GAAEpE,CAAC,CAACqE,WAAW,EAAG,IAAG,CAACrE,CAAC,CAACsE,QAAQ,EAAE,GAAG,CAAC,EAAEC,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,IAAGxE,CAAC,CAChFyE,OAAO,EAAE,CACTF,QAAQ,EAAE,CACVC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,EAAC;EACvB,MAAME,IAAI,GAAI,GAAE1E,CAAC,CAAC2E,QAAQ,EAAE,CAACJ,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,IAAGxE,CAAC,CACxD4E,UAAU,EAAE,CACZL,QAAQ,EAAE,CACVC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,IAAGxE,CAAC,CAAC6E,UAAU,EAAE,CAACN,QAAQ,EAAE,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAE,EAAC;EACrE,OAAQ,GAAEJ,GAAI,IAAGM,IAAK,EAAC;AAC3B;AACAzM,OAAO,CAACc,cAAc,GAAGA,cAAc;AACvC,SAASD,kBAAkB,GAAG;EAC1B,OAAO,CAAC,CAACuC,OAAO,CAAC2B,GAAG,CAAC8H,UAAU;AACnC;AACA7M,OAAO,CAACa,kBAAkB,GAAGA,kBAAkB;AAC/C,SAASD,cAAc,GAAG;EACtB,OAAO,CAAC,CAACwC,OAAO,CAAC2B,GAAG,CAAC+H,eAAe;AACxC;AACA9M,OAAO,CAACY,cAAc,GAAGA,cAAc;AACvC,SAASD,iBAAiB,GAAG;EACzB,OAAO,IAAIoM,IAAI,CAACA,IAAI,CAACC,GAAG,EAAE,GAAG9I,2BAA2B,CAAC;AAC7D;AACAlE,OAAO,CAACW,iBAAiB,GAAGA,iBAAiB;AAC7C,SAASD,aAAa,CAACuI,GAAG,EAAEhD,OAAO,EAAE;EACjC,IAAIgD,GAAG,KAAKvE,SAAS,IAAIuE,GAAG,KAAK,IAAI,EAAE;IACnC,MAAM,IAAIzF,QAAQ,CAACyJ,cAAc,CAAC;MAC9BhH,OAAO,EAAEA,OAAO,IAAK,yCAAwCgD,GAAI;IACrE,CAAC,CAAC;EACN;AACJ;AACAjJ,OAAO,CAACU,aAAa,GAAGA,aAAa;AACrC,SAASD,cAAc,CAACwI,GAAG,EAAEhD,OAAO,EAAE;EAClC,IAAI,OAAOgD,GAAG,KAAK,QAAQ,EAAE;IACzB,MAAM,IAAIzF,QAAQ,CAACyJ,cAAc,CAAC;MAC9BhH,OAAO,EAAEA,OAAO,IAAK,8BAA6B,OAAOgD,GAAI;IACjE,CAAC,CAAC;EACN;AACJ;AACAjJ,OAAO,CAACS,cAAc,GAAGA,cAAc;AACvC,SAASD,cAAc,CAACyI,GAAG,EAAEhD,OAAO,EAAE;EAClC,IAAI,OAAOgD,GAAG,KAAK,QAAQ,EAAE;IACzB,MAAM,IAAIzF,QAAQ,CAACyJ,cAAc,CAAC;MAC9BhH,OAAO,EAAEA,OAAO,IAAK,8BAA6B,OAAOgD,GAAI;IACjE,CAAC,CAAC;EACN;AACJ;AACAjJ,OAAO,CAACQ,cAAc,GAAGA,cAAc;AACvC,SAASD,yBAAyB,CAAC0I,GAAG,EAAEhD,OAAO,EAAE;EAC7C,IAAI,EAAEgD,GAAG,KAAKvE,SAAS,IAAI,OAAOuE,GAAG,KAAK,QAAQ,CAAC,EAAE;IACjD,MAAM,IAAIzF,QAAQ,CAACyJ,cAAc,CAAC;MAC9BhH,OAAO,EAAEA,OAAO,IAAK,6CAA4C,OAAOgD,GAAI;IAChF,CAAC,CAAC;EACN;AACJ;AACAjJ,OAAO,CAACO,yBAAyB,GAAGA,yBAAyB;AAC7D,SAASD,OAAO,CAAC4M,GAAG,EAAEC,CAAC,EAAE;EACrB,OAAOD,GAAG,CAACE,MAAM,CAAC,CAAClG,MAAM,EAAEmG,IAAI,KAAK;IAChC,MAAM7I,GAAG,GAAG2I,CAAC,CAACE,IAAI,CAAC;IACnB,IAAInG,MAAM,CAAC1C,GAAG,CAAC,EAAE;MACb0C,MAAM,CAAC1C,GAAG,CAAC,CAACS,IAAI,CAACoI,IAAI,CAAC;IAC1B,CAAC,MACI;MACDnG,MAAM,CAAC1C,GAAG,CAAC,GAAG,CAAC6I,IAAI,CAAC;IACxB;IACA,OAAOnG,MAAM;EACjB,CAAC,EAAE,CAAC,CAAC,CAAC;AACV;AACAlH,OAAO,CAACM,OAAO,GAAGA,OAAO;AACzB,SAASgN,UAAU,CAACJ,GAAG,EAAE;EACrB,OAAOA,GAAG,CAACnE,GAAG,CAAE7D,CAAC,IAAK7E,SAAS,CAAC6E,CAAC,CAAC,CAAC;AACvC;AACA,SAASqI,WAAW,CAACvD,GAAG,EAAE;EACtB,MAAMwD,KAAK,GAAG,CAAC,CAAC;EAChB,KAAK,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,IAAI5N,MAAM,CAAC6N,OAAO,CAAC3D,GAAG,CAAC,EAAE;IACtCwD,KAAK,CAACC,CAAC,CAAC,GAAGpN,SAAS,CAACqN,CAAC,CAAC;EAC3B;EACA,OAAOF,KAAK;AAChB;AACA,SAASnN,SAAS,CAAC2J,GAAG,EAAE;EACpB,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAI,CAACA,GAAG,EAAE;IACjC,OAAOA,GAAG;EACd;EACA,IAAIA,GAAG,YAAY4D,MAAM,EAAE;IACvB,OAAOA,MAAM,CAAC5D,GAAG,EAAEA,GAAG,CAAC6D,KAAK,CAAC;EACjC;EACA,IAAI7D,GAAG,YAAY+C,IAAI,EAAE;IACrB,OAAO,IAAIA,IAAI,CAAC/C,GAAG,CAAC;EACxB;EACA,IAAI8D,KAAK,CAACC,OAAO,CAAC/D,GAAG,CAAC,EAAE;IACpB,OAAOsD,UAAU,CAACtD,GAAG,CAAC;EAC1B;EACA,IAAIA,GAAG,YAAYgE,GAAG,EAAE;IACpB,OAAO,IAAIA,GAAG,CAAChE,GAAG,CAAC2D,OAAO,EAAE,CAAC;EACjC;EACA,OAAOJ,WAAW,CAACvD,GAAG,CAAC;AAC3B;AACAhK,OAAO,CAACK,SAAS,GAAGA,SAAS;AAC7B,SAASD,IAAI,CAAC8M,GAAG,EAAE;EACf,IAAI,CAACY,KAAK,CAACC,OAAO,CAACb,GAAG,CAAC,EAAE;IACrB,OAAOxI,SAAS;EACpB;EACA,OAAOwI,GAAG,CAACA,GAAG,CAAClI,MAAM,GAAG,CAAC,CAAC;AAC9B;AACAhF,OAAO,CAACI,IAAI,GAAGA,IAAI;AACnB,SAASD,QAAQ,CAAC8N,EAAE,EAAEC,KAAK,EAAoB;EAAA,IAAlB;IAAEC;EAAQ,CAAC,uEAAG,CAAC,CAAC;EACzC,IAAIC,KAAK;EACT,OAAO,YAAa;IAAA,kCAATC,IAAI;MAAJA,IAAI;IAAA;IACX,IAAI,CAACD,KAAK,IAAID,OAAO,EAAE;MACnBF,EAAE,CAAC,GAAGI,IAAI,CAAC;IACf;IACAtE,YAAY,CAACqE,KAAK,CAAC;IACnBA,KAAK,GAAG1E,UAAU,CAAC,MAAMuE,EAAE,CAAC,GAAGI,IAAI,CAAC,EAAEH,KAAK,CAAC;EAChD,CAAC;AACL;AACAlO,OAAO,CAACG,QAAQ,GAAGA,QAAQ;AAC3B,SAASD,SAAS,CAACoO,GAAG,EAAEC,GAAG,EAAE;EACzBD,GAAG,GAAGE,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC;EACrBC,GAAG,GAAGC,IAAI,CAACE,IAAI,CAACH,GAAG,CAAC,GAAG,CAAC;EACxB,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACG,MAAM,EAAE,IAAIJ,GAAG,GAAGD,GAAG,CAAC,GAAGA,GAAG,CAAC;AACxD;AACAtO,OAAO,CAACE,SAAS,GAAGA,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}